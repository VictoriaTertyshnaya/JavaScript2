<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css">
    <title>Интернет-магазин</title>
</head>

<body>
    <div id='app'>
        <child-element @btn-basket="btn-basket">
        </child-element>
        <header>
            <div class="container header-flex">
                <div class="header-left">
                    <p class="logo">ИНТЕРНЕТ-МАГАЗИН</p>
                    <form class="search-form">
                        <input type="text" class="search-field" @submit.prevent="filter">
                        <button class="btn-search" type="submit" v-model="search">
                        <i class="fas fa-search"></i>
                    </button>
                    </form>
                </div>
                <div class="header-right">
                    <div class="brakets_button">
                        <button class="cart-button" type="button" id="btn-basket" @click="showCartt = !showCart">Корзина
                        <section class="product-card-section" v-show="showCart">
                            <div class="goods_list">
                                <div class="goods-item" v-for = 'item of goodsItems' :key = 'item.id_item'>
                                    <img :src="item.img" :alt = "item.title">
                                    <div class="goods-item__content">
                                        <h3 class='goods-item-name'>Название товара: {{item.title}}</h3>
                                        <p class='goods-item-price'>Цена товара: {{item.price}} руб.</p>
                                        <p class='goods-item-quantity'>Количество товаров: {{item.quantity}}.</p>
                                    </div>
                                </div>
                            </div>
                        </section>
                  </button>
                    </div>
                </div>
            </div>
        </header>
        <main>
            <div class="goods_list">
                <div class="goods-item" v-for='item of filtered' :key='item.id_item'>
                    <img :src="item.img" :alt="item.title">
                    <div class="goods-item__content">
                        <h3 class='goods-item-name'>Название товара: {{item.title}}</h3>
                        <p class='goods-item-price'>Цена товара: {{item.price}} руб.</p>
                        <button class="btn_goods-btn" @click="goods_list[1].quantity ++">Купить</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script>
        const app = new Vue({
            el: '#app',
            data: {
                search: '',
                showCart: false,
                filtered: [],
                products: [],
                goodsItems: [],
                goods: [{
                    img: "img/shirt.jpg",
                    title: 'Shirt',
                    price: 150,
                    quantity: 1
                }, {
                    img: "img/shirt.jpg",
                    title: 'Socks',
                    price: 50,
                    quantity: 1
                }, {
                    img: "img/shirt.jpg",
                    title: 'Jacket',
                    price: 350,
                    quantity: 1

                }, {
                    img: "img/shirt.jpg",
                    title: 'Shoes',
                    price: 250,
                    quantity: 1
                }, ],
                methods: {
                    this: goods_list.push(
                        [{
                            img: "img/shirt.jpg",
                            title: 'Shirt',
                            price: 150,
                            quantity: 1
                        }, {
                            img: "img/shirt.jpg",
                            title: 'Socks',
                            price: 50,
                            quantity: 1
                        }, {
                            img: "img/shirt.jpg",
                            title: 'Jacket',
                            price: 350,
                            quantity: 1

                        }, {
                            img: "img/shirt.jpg",
                            title: 'Shoes',
                            price: 250,
                            quantity: 1
                        }, ]
                    ),
                    filter() {
                        let regexp = new RegExp(this.search, 'i');
                        this.filtered = this.products.filter(el => regexp.test(el.item.id_item))
                    }
                }

            }

        })
    </script>
    <script src="components.js"></script>
</body>

</html>